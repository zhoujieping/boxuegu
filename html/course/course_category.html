<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>学IT - 后台管理系统</title>
    <!--通过php的include方法，当浏览器访问这个页面的时候，php就会把提取出去的公共html片段引入，然后返回给浏览器-->
    <?php include($_SERVER['DOCUMENT_ROOT'].'/html/common/style.html')?>
</head>

<body>
    <!--左侧导航-->
    <?php include($_SERVER['DOCUMENT_ROOT'].'/html/common/aside.html')?>
    <!-- 主体 -->
    <div class="main">
        <div class="container-fluid">
            <!--头部-->
            <?php include($_SERVER['DOCUMENT_ROOT'].'/html/common/header.html')?>
            <div class="body course-category">
                <!-- 面包屑 -->
                <ol class="breadcrumb">
                    <li><a href="javascript:;">课程管理</a></li>
                    <li class="active">课程分类</li>
                </ol>
                <div class="page-title">
                    <a href="./course_category_add.html" class="btn btn-success btn-sm pull-right">添加分类</a>
                </div>
                <div class="panel panel-default">
                    <table id="course-category-table" class="table table-bordered">
                        <thead>
                            <tr>
                                <th width="18%">分类名称</th>
                                <th>课程数量</th>
                                <th>是否显示</th>
                                <th>排序</th>
                                <th width="10%">操作</th>
                            </tr>
                        </thead>
                        <!--分类列表的坑-->
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--课程分类列表模板-->
    <script type='text/tpl' id='course-category-tpl'>
        <tbody>
            {{ each result as category i }}
            <!--判断是不是顶级分类，是顶级分类就添加高亮，否则就不用-->
            <tr class={{ category.cg_pid==0? 'active':'' }}>
                <td class="text-left">{{ category.cg_name }}</td>
                <td>{{ category.cg_level }}</td>
                <td>{{ category.cg_is_hide ==0? '是':'否' }}</td>
                <td>{{ category.cg_order }}</td>
                <td>
                    <!--编辑按钮通过传入的id跳转到对应的页面-->
                    <a href="/html/course/course_category_add.html?cg_id={{ category.cg_id }}" class="btn btn-info btn-xs">编辑</a>
                </td>
            </tr>
            {{ /each }}
        </tbody>
    </script>
    <!--页面公共脚本  -->
    <?php include($_SERVER['DOCUMENT_ROOT'].'/html/common/script.html')?>
</body>

</html>